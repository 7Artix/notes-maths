
# 9.1 向量及其线性运算

当变量由单一变量变为多个变量, 对应的函数称之为<font color=red><b>多元函数</b></font>: $f(x_1,x_2,\cdots,x_n)$ . 对应的微积分称为<font color=red><b>多元微积分</b></font>.

与二维中的象限对应, 三维空间中, 被三个坐标平面分割的8个部分中的每个部分称为一个**卦限**.

<p align="central">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Octant_numbers.svg/800px-Octant_numbers.svg.png" width="40%">
</p>

## `定义72` $向量与维数$

> $n$ 个有序的数 $a_1,a_2,\cdots,a_n$ 所组成的数组称为 $\color{red}n$ <font color=red><b>维向量</b></font>. 这 $n$ 个数称为向量的 $n$ 个分量, 第 $i$ 个数 $a_i$ 称为第 $i$ 个分量. 向量可以写成一列, 也可以写成一行, 分别称为<font color=red><b>列向量</b></font>和<font color=red><b>行向量</b></font>:

$$
n维列向量:
\begin{pmatrix}
a_1\\
a_2\\
\vdots\\
a_n
\end{pmatrix}\quad
n维行向量:
(a_1,a_2,\cdots,a_n) 或
\begin{pmatrix}
a_1 & a_2 \cdots a_n
\end{pmatrix}
$$

> $n$ 称为向量的<font color=red><b>维数</b></font>.

通常使用列向量来表示向量, 符合线性代数的习惯.

若两个向量维数相同, 各个分量相等, 则两个向量相等.

若向量的每个分量都是 $0$ , 称为零向量.

## `定义73` $向量的加法$

> $n$ 维向量的<font color=red><b>加法</b></font>定义为:

$$
\boldsymbol{a} + \boldsymbol{b} = 
\begin{pmatrix}
a_1 \\ a_2 \\ \vdots \\ a_n
\end{pmatrix}
+
\begin{pmatrix}
b_1 \\ b_2 \\ \vdots \\ b_n
\end{pmatrix}
=
\begin{pmatrix}
a_1 + b_1 \\ a_2 + b_2 \\ \vdots \\ a_n + b_n
\end{pmatrix}
$$

二维或三维向量加法的集合意义是<font color=red><b>三角形法则</b></font>和<font color=red><b>平行四边形法则</b></font>.
使用三角形法则理解几何的向量加法十分方便.


## `定义74` $向量的数乘$

> $n$ 维向量的<font color=red><b>数乘</b></font>定义为:

$$
k \boldsymbol{a}
= k \begin{pmatrix}
a_1 \\ a_2 \\ \vdots \\ a_n
\end{pmatrix}
= \begin{pmatrix}
ka_1 \\ ka_2 \\ \vdots \\ ka_n
\end{pmatrix} , \quad k \in \mathbb{R}
$$

数乘是将向量的所有分量同步扩大, 相当与对向量进行伸缩, $k$ 的符号决定了伸缩的方向.

向量数乘可以用于**表示直线**.


## `定义75` $向量的平行$

> 若 $\boldsymbol{u}, \ \boldsymbol{v}$ 满足 $\boldsymbol{u}=k\boldsymbol{v} , \ k \in \mathbb{R}$ 则称 $\boldsymbol{u}$ <font color=red><b>平行</b></font>于 $\boldsymbol{v}$ , 记作 $\boldsymbol{u} \ \!// \ \boldsymbol{v}$ .


## `定理76` $线性运算与线性运算规律$

向量的加法和数乘统称为<font color=red><b>基本运算</b></font>或<font color=red><b>线性运算</b></font>. 运算的结果仍然是向量, 维度不变.

> 向量的线性运算有如下规律:

| 运算  |       运算定律        |                                                                                          算式形式                                                                                          |
| :-: | :---------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| 加法  |    交换律<br>结合律     |            $\boldsymbol{a}+\boldsymbol{b} = \boldsymbol{b}+\boldsymbol{a}$<br>$\boldsymbol{a}+\boldsymbol{b}+\boldsymbol{c}=\boldsymbol{a}+(\boldsymbol{b}+\boldsymbol{c})$            |
| 数乘  | 交换律<br>结合律<br>分配率 | $k\cdot\boldsymbol{a}=\boldsymbol{a}\cdot k$<br>$k\cdot m \cdot \boldsymbol{a} = k\cdot (m\cdot \boldsymbol{a})$<br>$k(\boldsymbol{a}+\boldsymbol{b})=k\boldsymbol{a}+k\boldsymbol{b}$ |

通过向量加法和数乘将多个向量组合在一起, 称为<font color=red><b>线性组合</b></font>.

# 9.2 数量积 (点积)

## `定义76` $点积$

> 若有以下两个向量:

$$
\boldsymbol{x} = \begin{pmatrix}
x_1 \\
\vdots \\
x_n
\end{pmatrix},
\quad
\boldsymbol{y} = \begin{pmatrix}
y_1 \\
\vdots \\
y_n
\end{pmatrix}
$$

> 则<font color=red><b>点积</b></font>或称<font color=red><b>内积</b></font>定义为:

$$
x \cdot y = x_1y_1 + \cdots + x_ny_n = \sum_{i=1}^n x_iy_i
$$

> 点积还可以称为<font color=red><b>数量积</b></font>或<font color=red><b>标量积</b></font>, 因为点积的运算结果是数量 (标量) .

例如:

$$
\begin{pmatrix}
1 \\
2 \\
3
\end{pmatrix}
\cdot
\begin{pmatrix}
-2 \\
1 \\
-1
\end{pmatrix}
=
1\times(-2)+2\times1+3\times(-1)=-3
$$


## `定义77` $向量的长度$

> 对于 $n$ 维向量 $\boldsymbol{a} = \begin{pmatrix}a_1\\a_2\\\vdots\\a_n\end{pmatrix}$ , 其<font color=red><b>长度</b></font>记作 $||\boldsymbol{a}||$ , 定义为:

$$
||\boldsymbol{a}|| = \sqrt{\boldsymbol{a}\cdot\boldsymbol{a}}
$$

$||\boldsymbol{a}||$ 也称作向量的<font color=red><b>模</b></font>, 若 $||\boldsymbol{a}||=1$ , 则称 $\boldsymbol{a}$ 为<font color=red><b>单位向量</b></font>.


## `定理97` $向量间夹角$

> 若 $\boldsymbol{a}$ ,  $\boldsymbol{b}$ 都不是零向量, 其<font color=red><b>夹角</b></font>为 $(\widehat{\boldsymbol{a},\boldsymbol{b}})=\theta$ :

$$
\cos \theta = \frac{\boldsymbol{a}\cdot\boldsymbol{b}}{||\boldsymbol{a}|| \ ||\boldsymbol{b}||}
$$

向量的夹角是向量间两个夹角中较小的一个.

注意: 仅在自然基下才能通过点积计算长度与角度.

零向量与任意向量**平行**, 与任意向量**正交**, 与任意向量的**夹角是任意值**; 零向量指向**任意方向**. 


## `定理98` $二维向量的方向角$

> 二维向量 $\boldsymbol{u} = \begin{pmatrix}u_1\\ u_2\end{pmatrix}$ 与 $x$ 轴, $y$ 轴正方向的夹角 $\alpha$ , $\beta$ 称为该向量的<font color=red><b>方向角</b></font>.

> 方向角的余弦称为<font color=red><b>方向余弦</b></font>, 其值分别为 $\cos\alpha = \dfrac{u_1}{|\boldsymbol{u}|}$ , $\cos\beta = \dfrac{u_2}{|\boldsymbol{u}|}$ .


## `定理99` $三维向量的方向角$

> 三维向量 $\boldsymbol{u} = \begin{pmatrix}u_1\\ u_2 \\ u_3\end{pmatrix}$ 与 $x$ 轴, $y$ 轴, $z$ 轴正方向的夹角 $\alpha$ , $\beta$ , $\gamma$ 称为该向量的<font color=red><b>方向角</b></font>.

> 方向角的余弦称为<font color=red><b>方向余弦</b></font>, 其值分别为 $\cos\alpha = \dfrac{u_1}{|\boldsymbol{u}|}$ , $\cos\beta = \dfrac{u_2}{|\boldsymbol{u}|}$ , $\cos\gamma = \dfrac{u_3}{|\boldsymbol{u}|}$ .


与原向量方向相同, 长度为 $1$ 的向量称为<font color=red><b>单位方向向量</b></font>.


## `定义78` $向量投影$

> 已知向量 $\boldsymbol{u}$ ,  $\boldsymbol{v}$ , 有 $(\widehat{\boldsymbol{u},\boldsymbol{v}})=\theta$ , 则 $\lambda=||\boldsymbol{u}||\cos\theta$ 称为 $\boldsymbol{u}$ 在 $\boldsymbol{v}$ 上的<font color=red><b>投影</b></font> ( $Projection$ ), 记作 $\mathrm{Prj}_\boldsymbol{v}\boldsymbol{u}$ , 即:

$$
\mathrm{Prj}_\boldsymbol{v}\boldsymbol{u} = ||\boldsymbol{u}||\cos\theta
$$


## `定理100` $点积运算法则$

> 向量点积满足 `向量交换律`, `数乘结合律`, `向量分配率`, 但**不满足** `向量结合律`.

满足数乘结合律: $(k\boldsymbol{a})\cdot\boldsymbol{b} = k(\boldsymbol{a}\cdot\boldsymbol{b})$ 

不满足向量结合律: $(\boldsymbol{a}\cdot\boldsymbol{b})\boldsymbol{c} \neq \boldsymbol{a}(\boldsymbol{b}\cdot\boldsymbol{c})$ 

因为本质上向量数量积的结果变为一个数, 而数乘的结果还是一个向量.

点积的各个运算律过程可以用矩形面积理解, 矩形的边由一个向量与另一个向量的投影构成.


## `定理101` $投影的运算法则$

> 投影有以下运算规律:

数乘结合律: $\mathrm{Prj}_\boldsymbol{w}(\lambda\boldsymbol{u}) = \lambda\mathrm{Prj}_\boldsymbol{w}\boldsymbol{u}$ , 其中 $\lambda$ 是常数.

分配率: $\mathrm{Prj}_\boldsymbol{w}(\boldsymbol{u}+\boldsymbol{v}) = \mathrm{Prj}_\boldsymbol{w}\boldsymbol{u} + \mathrm{Prj}_\boldsymbol{w}\boldsymbol{v}$ .


## `定理102` $平行充要条件$

$$
\boldsymbol{u} = \lambda\boldsymbol{v} \iff \boldsymbol{u} // \boldsymbol{v}
$$

平行意味着向量夹角为 $0$ 或 $2\pi$ .


## `定理103` $正交的充要条件$

$$
\boldsymbol{u}\cdot\boldsymbol{v} = 0 \iff \boldsymbol{u} \perp \boldsymbol{v}
$$


# 9.3 向量积 (叉积) 和混合积

## `定义79` $叉积$

标准的叉积只存在于三维空间, 因为叉积需要确定一个方向, 该方向垂直于两个向量张成的平面, 在二维或更低维中, 不存在这样的方向. 而在四维或更高的空间中, 有无穷多个这样的方向. 叉积的推广是外积.

> 已知 $\boldsymbol{u} = \begin{pmatrix}u_1\\ u_2 \\ u_3\end{pmatrix}$ 和 $\boldsymbol{v} = \begin{pmatrix}v_1\\ v_2 \\ v_3\end{pmatrix}$ , 定义如下运算:

$$
\boldsymbol{S} = \boldsymbol{u}\times\boldsymbol{v} = 
\begin{vmatrix}
\boldsymbol{i} & u_1 & v_1 \\
\boldsymbol{j} & u_2 & v_2 \\
\boldsymbol{k} & u_3 & v_3 \\
\end{vmatrix} = 
\begin{vmatrix}
u_2 & v_2 \\
u_3 & v_3 \\
\end{vmatrix}\boldsymbol{i} - 
\begin{vmatrix}
u_1 & v_1 \\
u_3 & v_3 \\
\end{vmatrix}\boldsymbol{j} +
\begin{vmatrix}
u_1 & v_1 \\
u_2 & v_2 \\
\end{vmatrix}\boldsymbol{k}
$$

> 称为<font color=red><b>叉积</b></font>或<font color=red><b>向量积</b></font>. 叉积的运算结果为向量, 是一个有向面积.

叉积的方向通过右手定则确定, 模长等于两个向量围成的平行四边形面积.


## `定理104` $平行充要条件(叉积)$

$$
\boldsymbol{u}\times\boldsymbol{v} = 0 \iff \boldsymbol{u} // \boldsymbol{v}
$$


## `定理105` $叉积的运算法则$

向量间的叉积满足以下性质:

| 运算定律  |                                                                   算式形式                                                                    |
| :---: | :---------------------------------------------------------------------------------------------------------------------------------------: |
| 反交换律  |                                $\boldsymbol{u}\times\boldsymbol{v} = -\boldsymbol{v}\times\boldsymbol{u}$                                 |
|  分配率  |       $\boldsymbol{u}\times(\boldsymbol{v}+\boldsymbol{w}) = \boldsymbol{u}\times\boldsymbol{v}+\boldsymbol{u}\times\boldsymbol{w}$       |
| 数乘结合律 | $\lambda(\boldsymbol{u}\times\boldsymbol{v}) = (\lambda\boldsymbol{u})\times\boldsymbol{v} = \boldsymbol{u}\times(\lambda\boldsymbol{v})$ |


## `定义80` $混合积$

> 已知三维向量 $\boldsymbol{u}$ , $\boldsymbol{v}$ 和 $\boldsymbol{w}$ , 定义如下运算:

$$
[\boldsymbol{u},\boldsymbol{v},\boldsymbol{w}] = (\boldsymbol{u}\times\boldsymbol{v})\cdot\boldsymbol{w}
$$

> 该运算称为<font color=red><b>混合积</b></font>.

混合积实际是求由三个向量构成的六面体的**有向体积**.


## `定理106` $共面的充要条件$

$$
[\boldsymbol{u},\boldsymbol{v},\boldsymbol{w}] = 0 \iff
\boldsymbol{u},\boldsymbol{v},\boldsymbol{w}共面
$$


## `定理107` $混合积的运算法则$

|   运算定律    |                                                                                                  算式形式                                                                                                  |
| :-------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| 轮换对称性<br> |                           $[\boldsymbol{u},\boldsymbol{v},\boldsymbol{w}] = [\boldsymbol{v},\boldsymbol{w},\boldsymbol{u}] = [\boldsymbol{w},\boldsymbol{u},\boldsymbol{v}]$                           |
|   互换相反性   | $[\boldsymbol{u},\boldsymbol{v},\boldsymbol{w}] = -[\boldsymbol{v},\boldsymbol{u},\boldsymbol{w}] = -[\boldsymbol{u},\boldsymbol{w},\boldsymbol{v}] = -[\boldsymbol{w},\boldsymbol{v},\boldsymbol{u}]$ |

<p align="central">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Parallelepiped_volume.svg/1024px-Parallelepiped_volume.svg.png" width="60%">
</p>


# 9.4 平面及其方程

与直线重合的向量或与直线平行的向量称为直线的<font color=red><b>方向向量</b></font>.

与平面上的任意直线正交的直线称为平面的<font color=red><b>法线</b></font>, 发现的方向向量称为平面的<font color=red><b>法向量</b></font>.

平面方程的精髓是: 若 $x$ 发生变化, $y$ 和 $z$ 可以任选其一进行变化, 体现出<font color=red><b>两个自由度</b></font>.

## `定理108` $平面的点法式方程$

> 已知某平面上的一点 $\boldsymbol{M} = \begin{pmatrix}x_0\\ y_0 \\ z_0\end{pmatrix}$ 以及平面的一个法向量 $\boldsymbol{n} = \begin{pmatrix}A\\ B \\ C\end{pmatrix}$ , 可得出该<font color=red><b>平面的点法式方程</b></font>:

$$
A(x-x_0)+B(y-y_0)+C(z-z_0) = 0
$$

该方程是通过正交向量点积为 $0$ 得到的.


## `定理109` $平面的一般方程$

> <font color=red><b>平面的一般方程</b></font>为:

$$
Ax+By+Cz+D=0
$$

针对上述方程有如下的若干结论:

-  $\boldsymbol{n} = \begin{pmatrix}A\\ B \\ C\end{pmatrix}$ 是该平面的一个法向量.

- 当 $D=0$ 时, 平面过原点.

-  $A=0$ 时, 平面平行于 $x$ 轴; $B=0$ 时, 平面平行于 $y$ 轴; $C=0$ 时, 平面平行于 $z$ 轴.

-  $A=B=0$ 时, 平面平行于 $xOy$ 平面; $A=C=0$ 时, 平面平行于 $zOx$ 平面; $B=C=0$ 时, 平面平行于 $yOz$ 平面.

还可以推导出, $D=-Ax_0-By_0-Cz_0$ , 由此可以看出, $D$ 是综合 $x$ , $y$ , $z$ 的变化率得到的. 也因此, $A$ , $B$ , $C$ 作为平面的法向量, 能够显示平面的朝向, 若将坐标中的两项设为 $0$ , 就能通过一般形式方程, 求出平面与坐标轴的**截距**.

从上面的结论, 也可以看出, 平面在空间中的一般形式方程**不唯一**, 
通过成比例的缩放 $A,B,C,D$ 就能获得不同的平面方程.


## `定理110` $平面的截距式方程$

> <font color=red><b>平面的截距式方程</b></font>为:

$$
\frac{x}{a}+\frac{y}{b}+\frac{z}{c} = 1,\quad
a\neq0,b\neq0,c\neq0
$$

> 其中 $a$ , $b$ , $c$ 分别是该平面在 $x$ , $y$ , $z$ 轴上的<font color=red><b>截距</b></font>.

该方程是通过待定系数法推到得到的.


## `定理111` $平面的参数方程$

> 已知平面上不共线的三点:

$$
\boldsymbol{A} = \begin{pmatrix}a_1\\ a_2 \\ a_3\end{pmatrix},\ 
\boldsymbol{B} = \begin{pmatrix}b_1\\ b_2 \\ b_3\end{pmatrix},\ 
\boldsymbol{C} = \begin{pmatrix}c_1\\ c_2 \\ c_3\end{pmatrix}
$$

> 则<font color=red><b>平面的参数方程</b></font>为:

$$
\left\{
\begin{array}{l}
x=a_1+k_1(b_1-a_1)+k_2(c_1-a_1) \\
y=a_2+k_1(b_2-a_2)+k_2(c_2-a_2) \\
z=a_3+k_1(b_3-a_3)+k_2(c_3-a_3) 
\end{array}
\right.
\ ,\quad
k_1,k_2\in\mathbb{R}
$$

> 令 $\boldsymbol{x} = \begin{pmatrix}x\\ y \\ z\end{pmatrix}$ , $\overrightarrow{AB} = \boldsymbol{B} - \boldsymbol{A} = \begin{pmatrix}b_1-a_1\\ b_2-a_2 \\ b_3-a_3\end{pmatrix}$ , $\overrightarrow{AC} = \boldsymbol{C} - \boldsymbol{A} = \begin{pmatrix}c_1-a_1\\ c_2-a_2 \\ c_3-a_3\end{pmatrix}$ , 则方程可以写为:

$$
\boldsymbol{x} = \boldsymbol{A}+k_1\overrightarrow{AB}+k_2\overrightarrow{AC},\quad k_1,k_2\in\mathbb{R}
$$

上述替换方程表明了参数方程的推到过程, 即在 $\boldsymbol{A}$ 点处展开, 平面由 $\overrightarrow{AB}$ 和 $\overrightarrow{AC}$ 张成.


## `定理112` $平面夹角$

> 两平面法向量的夹角 $\theta\ (0\leq\theta\leq\dfrac{\pi}{2})$ 称为<font color=red><b>两平面的夹角</b></font>. 若两平面分别为:

$$
\begin{array}{l}
A_1x+B_1y+C_1z+D_1 = 0 \\
A_2x+B_2y+C_2z+D_2 = 0
\end{array}
$$

> 各自的法向量分别为:

$$
\boldsymbol{n_1} = \begin{pmatrix}A_1 \\ B_1 \\ C_1\end{pmatrix} \ 和 \ 
\boldsymbol{n_2} = \begin{pmatrix}A_2 \\ B_2 \\ C_2\end{pmatrix}
$$

> 则**两平面夹角余弦的求解公式**为:

$$
\cos\theta = \frac{|\boldsymbol{n}_1\cdot\boldsymbol{n}_2|}{||\boldsymbol{n}_1|| \ ||\boldsymbol{n}_2||} = 
\frac{|A_1A_2+B_1B_2+C_1C_2|}{\sqrt{A_1^2+B_1^2+C_1^2}\sqrt{A_2^2+B_2^2+C_2^2}},\quad
0\leq\theta\leq\frac{\pi}{2}
$$

平面部分正面与反面, 因此 $\theta$ 的取值范围为 $0\leq\theta\leq\dfrac{\pi}{2}$ .


## `定理113` $点到平面的距离$

> 已知 $P_0:(x_0,y_0,z_0)$ 是平面 $Ax+By+Cz+D=0$ 外的一个点, 则其到该平面的<font color=red><b>距离</b></font> $d$ 为:

$$
d=\frac{|Ax_0+By_0+Cz_0+D|}{\sqrt{A^2+B^2+C^2}}
$$

理解上述定理, 首先需要明确平面一般形式方程中 $D$ 的含义.
可以推导得到 $D = -Ax_0-By_0-Cz_0$ , 上文说过 $D$ 的数值本身并不是实际有用的值, 有些类似分贝的概念, 需要与 $A,B,C$ 结合才有实际含义, 可以计算平面与坐标轴相交的截距. 
观察 $D$ 的方程式, 可以看到, $D$ 是平面上一点 $x_0$ 的向量, 与法向量 $(A,B,C)$ 的<font color=red><b>内积</b></font>的负. 
本质上, $D$ 值可以理解成平面的一个**法向量**的模长与**从原点指向平面上的一点**投影到法向量上的模长的积, 因此通过 $D$ 可以求出平面到原点的距离:

$$
d_{(0,0,0)}=\frac{|D|}{\sqrt{A^2+B^2+C^2}}
$$

下面理解公式的定义. 
求空间中任意一点 $p_1$ 到平面 $DTM_0$ 的距离, 可以先过点 $p_1$ 平行于 $DTM_0$ 建立一个平面 $DTM_1$ , 问题变为求平面 $DTM_0$ 与平面 $DTM_1$ 之间的距离.
由于平面 $DTM_0$ 平行于平面 $DTM_1$ , 二者拥有相同的法向量, 因此 $DTM_1$ 的方程可以写作:

$$
A(x-x_1)+B(y-y_1)+C(z-z_1)=0
$$

将其改写成标准形式, 则:

$$
D_1 = -Ax_1-By_1-Cz_1
$$

结合上述说明中 $D$ 的含义, 与原方程, 可以得到平面 $DTM_0$ 和平面 $DTM_1$ 之间的距离为:

$$
d=\frac{|Ax_0+By_0+Cz_0+D|}{\sqrt{A^2+B^2+C^2}}
$$


# 9.5 空间直线及其方程

直线方程的精髓是: 若 $x$ 发生变化, $y$ 和 $z$ 同时同步发生变化, 体现出<font color=red><b>一个自由度</b></font>.

## `定理114` $空间直线的一般方程$

> <font color=red><b>空间直线的一般方程</b></font>为:

$$
\left\{
\begin{array}{}
A_1x+B_1y+C_1z+D_1 = 0 \\
A_2x+B_2y+C_2z+D_2 = 0
\end{array}
\right.
$$

可以看到, 空间中直线的一般方程是通过两个平面交线给出的.

若构成一条直线的两个平面的法向量分别是 $\boldsymbol{n}_1$ 和 $\boldsymbol{n}_2$ , 则 $\boldsymbol{s} = \boldsymbol{n}_1\times\boldsymbol{n}_2$ 是直线的一个方向向量.


## `定理115` $空间直线的点向式方程$

> 若已知某直线过点 $\boldsymbol{M} = \begin{pmatrix}x_0\\ y_0 \\ z_0\end{pmatrix}$ , 以及直线的一个方向向量 $\boldsymbol{s} = \begin{pmatrix}m\\ n \\ p\end{pmatrix}$ , 则<font color=red><b>空间直线的点向式方程</b></font>为:

$$
\left\{
\begin{array}{l}
x-x_0 = km \\
y-y_0 = kn \\
z-z_0 = kp
\end{array}
\right.\ ,\quad
k\in\mathbb{R}
$$

> 若 $m\neq0,n\neq0,p\neq0$ , 则可以改写为:

$$
\frac{x-x_0}{m} = 
\frac{y-y_0}{n} = 
\frac{z-z_0}{p}
$$

若有方向向量中的一个分量等于零, 则可以单独拆出, 另外两个分量联立.

上式体现了直线的**单自由度特性**.


## `定理116` $空间直线的参数方程$

> 若已知某直线过点 $\boldsymbol{M} = \begin{pmatrix}x_0\\ y_0 \\ z_0\end{pmatrix}$ , 以及直线的一个方向向量 $\boldsymbol{s} = \begin{pmatrix}m\\ n \\ p\end{pmatrix}$ , 则<font color=red><b>空间直线的参数方程</b></font>为:

$$
\left\{
\begin{array}{l}
x = x_0 + km \\
y = y_0 + kn \\
z = z_0 + kp
\end{array}
\right.\ ,\quad
k\in\mathbb{R}
$$

参数方程和点向式方程形式类似, 可以通过简单移项得到, 但是对应的几何含义不同.


根据**一般方程**求**参数方程**或**点向式方程**:
1. 先找到直线上的一点.
2. 再通过两个平面的法向量计算出直线的方向向量.
3. 最后与直线上的一点组合得到方程.


## `定理117` $两直线的夹角$

> 两直线方向向量的夹角 $\theta\ (0\leq\theta\leq\dfrac{\pi}{2})$ 称为<font color=red><b>两直线的夹角</b></font>. 
> 若两直线的方向向量分别为:

$$
\boldsymbol{s_1} = \begin{pmatrix}m_1 \\ n_1 \\ p_1\end{pmatrix} \ 和 \ 
\boldsymbol{s_2} = \begin{pmatrix}m_2 \\ n_2 \\ p_2\end{pmatrix}
$$

> 则**两直线夹角余弦的求解公式**为:

$$
\cos\theta = \frac{|\boldsymbol{s}_1\cdot\boldsymbol{s}_2|}{||\boldsymbol{s}_1|| \ ||\boldsymbol{s}_2||} = 
\frac{|m_1m_2+n_1n_2+p_1p_2|}{\sqrt{m_1^2+n_1^2+p_1^2}\sqrt{m_2^2+n_2^2+p_2^2}},\quad
0\leq\theta\leq\frac{\pi}{2}
$$


## `定理118` $直线与平面的夹角$

> <font color=red><b>直线与平面的夹角</b></font>定义如下, 当:
- 直线与平面不垂直时, 直线与平面的夹角等于直线和它在平面上的投影直线的夹角 $\varphi\ (0\leq\varphi\leq\dfrac{\pi}{2})$ .
- 直线与平面垂直时, 直线与平面的夹角 $\varphi=\dfrac{\pi}{2}$ .

> 若直线的方向向量和平面的法向量分别为:

$$
\boldsymbol{s} = \begin{pmatrix}m \\ n \\ p\end{pmatrix} \ 和 \ 
\boldsymbol{n} = \begin{pmatrix}A \\ B \\ C\end{pmatrix}
$$

> 则**直线与平面夹角的正弦求解公式**为:

$$
\sin\varphi = \frac{|\boldsymbol{s}\cdot\boldsymbol{n}|}{||\boldsymbol{s}|| \ ||\boldsymbol{n}||} = 
\frac{|Am+Bn+Cp|}{\sqrt{A^2+B^2+C^2}\sqrt{m^2+n^2+p^2}},\quad
0\leq\varphi\leq\frac{\pi}{2}
$$


## `定义81` $直线的平面束方程$

> 已知直线的一般方程为:

$$
\left\{
\begin{array}{}
A_1x+B_1y+C_1z+D_1 = 0 \\
A_2x+B_2y+C_2z+D_2 = 0
\end{array}
\right.
$$

> 则该<font color=red><b>直线的平面束方程</b></font>为:

$$
A_1x+B_1y+C_1z+D_1+\lambda(A_2x+B_2y+C_2z+D_2)=0 , \quad \lambda\in\mathbb{R}
$$

平面束属于一种空间图形, 是一组有特殊位置关系的平面的集合, 即有一条公共直线的所有平面的几何.

平面相加的效果可以通过法向量相加理解.

理解直线的平面束方程从平面的法向量的角度理解.
例如直线是平面 $DTM_0$ 与平面 $DTM_1$ 的交线, 对应的平面法向量分别为 $\boldsymbol{n}_0$ 和 $\boldsymbol{n}_1$ .
对于单一方程, 整体乘以 $\lambda$ 是没有效果的, 因为 $\lambda$ 可以通过 $0$ 直接约掉. 但是如果不消除 $\lambda$ 方程整体乘以 $\lambda$ 可以看做使平面的法向量 $\boldsymbol{n} = \begin{pmatrix}A \\ B \\ C\end{pmatrix}$ 做伸缩. 法向量虽然发生了伸缩, 但是方程表示的平面并没有变化.
平面束方程可以看做两个方程的线性叠加, 对平面 $DTM_1$ 整体乘以 $\lambda$ 的效果就是让平面 $DTM_1$ 的法向量 $\boldsymbol{n}_1$ 变为 $\lambda\boldsymbol{n}_1$ ; 此时将平面 $DTM_0$ 与平面 $DTM_1$ 线性组合, 二者的法向量也会进行线性组合. 改变 $\lambda$ 的值会让组合后平面的法向量指向不同的方向. 因此平面束整体是通过原直线的所有平面的集合.


# 9.6 曲面及其方程

## `定义82` $球面的方程$

> 球心在 $M(x_0,y_0,z_0)$ , 半径为 $R$ 的<font color=red><b>球面</b></font>的方程为:

$$
\sqrt{(x-x_0)^2+(y-y_0)^2+(z-z_0)^2} = R \quad 或 \quad
(x-x_0)^2+(y-y_0)^2+(z-z_0)^2 = R^2
$$


## `定义83` $旋转曲面$

> 某平面曲线绕其平面上的一条确定直线旋转一周所形成的曲面称为<font color=red><b>旋转曲面</b></font>, 该平面曲线称为<font color=red><b>旋转曲面的母线</b></font>, 该确定直线称为<font color=red><b>旋转曲面的轴</b></font>.

<p align="central">
<img src="https://matongxue.oss-cn-hangzhou.aliyuncs.com/attch/matex/4853/20230601153615347/2.png" width="60%">
</p>

旋转曲面的方程通过如下思路获得:

以上述图片中的曲面举例, 曲面在 $xOy$ 平面上的投影为圆, 因此 $x$ 和 $y$ 可以通过半径等于某值建立联系; $y$ 和 $z$ 通过曲线方程建立联系.

若上述曲面的母线的方程为 $f(y,z)=0$ . 该函数的功能是给定一个横方向 (自变量) 上的值, 确定纵向 (因变量) 上的数值. 若推广到3D空间内, 可以看到图形在 $xOy$ 平面上的同一圆弧上的任意位置, 对应的高度应该相同. 原母线方程经过修改变为曲面方程:

$$
f(\pm\sqrt{x^2+y^2},z) = 0
$$

需要注意, 替换后的 $\pm\sqrt{x^2+y^2}$ 应当满足原本函数的定义域, 根据实际情况判断.


有如下典型的旋转曲面:

### 圆锥面

直线 $z=ky$ 绕 $z$ 轴旋转后得到的圆锥面方程为:

$$
z=\pm k\sqrt{x^2+y^2} \quad 或 \quad
z^2 = k^2(x^2+y^2)
$$


### 旋转单叶双曲面

双曲线 $\dfrac{y^2}{b^2}-\dfrac{z^2}{c^2}=1$  绕 $z$ 轴旋转后得到的旋转单叶双曲面方程为:

$$
\dfrac{x^2+y^2}{b^2}-\dfrac{z^2}{c^2}=1
$$


### 旋转双叶双曲面

双曲线 $\dfrac{y^2}{b^2}-\dfrac{z^2}{c^2}=1$  绕 $y$ 轴旋转后得到的旋转单叶双曲面方程为:

$$
\dfrac{y^2}{b^2}-\dfrac{x^2+z^2}{c^2}=1
$$


### 旋转抛物面

抛物线 $z=ay^2$ 绕 $z$ 轴旋转后得到的旋转抛物面方程为:

$$
z=a(x^2+y^2)
$$


## `定义84` $柱面$

> 柱面相当于<font color=red><b>拉伸面</b></font>.

> 只含 $x$ , $y$ 而没有 $z$ 的方程 $F(x,y)=0$ 是<font color=red><b>母线</b></font>平行于 $z$ 轴, <font color=red><b>准线</b></font>在 $xOy$ 面中的<font color=red><b>柱面</b></font>.
> 只含 $x$ , $z$ 而没有 $y$ 的方程 $F(x,z)=0$ 是<font color=red><b>母线</b></font>平行于 $y$ 轴, <font color=red><b>准线</b></font>在 $zOx$ 面中的<font color=red><b>柱面</b></font>.
> 只含 $y$ , $z$ 而没有 $x$ 的方程 $F(y,z)=0$ 是<font color=red><b>母线</b></font>平行于 $x$ 轴, <font color=red><b>准线</b></font>在 $yOz$ 面中的<font color=red><b>柱面</b></font>.

常见的柱面包括: 圆柱面, 抛物柱面, 以及普通的平面.


## 二次曲面

通过二次方程表示的曲面称为二次曲面, 例如:

- 椭球面: $\dfrac{x^2}{a^2}+\dfrac{y^2}{b^2}+\dfrac{z^2}{c^2}=1$ 

- 椭圆锥面: $\dfrac{x^2}{a^2}+\dfrac{y^2}{b^2}=z^2$ 

- 单叶双曲面: $\dfrac{x^2}{a^2}+\dfrac{y^2}{b^2}-\dfrac{z^2}{c^2}=1$ 

- 双叶双曲面: $\dfrac{x^2}{a^2}-\dfrac{y^2}{b^2}-\dfrac{z^2}{c^2}=1$ 

- 椭圆抛物面: $\dfrac{x^2}{a^2}+\dfrac{y^2}{b^2}=z$

- 双曲抛物面: $\dfrac{x^2}{a^2}-\dfrac{y^2}{b^2}=z$

- 椭圆柱面: $\dfrac{x^2}{a^2}+\dfrac{y^2}{b^2}=1$

- 双曲柱面: $\dfrac{x^2}{a^2}-\dfrac{y^2}{b^2}=1$

- 抛物柱面: $x^2=ay$

上述方程中的 $a$ , $b$ , $c$ 都是**缩放因子**, 都是从原有标准曲面通过在 $x$ , $y$ , $z$ 方向上不同的伸缩得到的.

- **椭圆**: 椭圆上任意一点到两个**焦点**的**距离和**为定值.
- **双曲线**: 双曲线上任意一点到两个**焦点**的**距离差**为定值.
- **抛物线**: 抛物线上任意一点到**焦点**的距离等于到**准线**的距离.


# 9.7 空间曲线及其方程

## `定理119` $空间曲线的一般方程$

> <font color=red><b>空间曲线的一般方程</b></font>为:

$$
\left\{
\begin{array}{l}
F(x,y,z)=0\\
G(x,y,z)=0\\
\end{array}
\right.
$$

定义为两个空间曲面的**交线**.


##  $空间曲线的参数方程$

也可以从动点的角度看待空间曲线, 空间中有一个动点, 在 $t$ 时刻的坐标为 $\displaystyle\left(f(t),g(t),h(t)\right)$ , 运动轨迹就是空间曲线的参数方程. 进一步地, 可以抽象 $t$ 为一个无含义变量.

$$
\left\{
\begin{array}{l}
x=f(t)\\
y=g(t)\\
z=h(t)\\
\end{array}
\right.
$$

可以发现, 空间曲线的参数方程中只有一个变量 $t$ , 体现出<font color=red><b>一个自由度</b></font>.

例如, 空间中的**螺旋线**就是:

$$
\left\{
\begin{array}{l}
x=a\cos\omega t\\
y=a\sin\omega t\\
z=vt\\
\end{array}
\right.
$$


##  $曲面的参数方程$

除了上文提到的**旋转面**, **拉伸面**以及**二次曲面**, 还可以使用参数方程表示空间中的曲面

> 空间中<font color=red><b>曲面的参数方程</b></font>为:

$$
\left\{
\begin{array}{l}
x=x(s,t)\\
y=y(s,t)\\
z=z(s,t)\\
\end{array}
\right.
$$

可以发现, 空间曲面的参数方程中有两个变量 $s$ 和 $t$ 的函数, 体现出<font color=red><b>两个自由度</b></font>.


##  $坐标面上的投影$

思路为消除投影轴变量.

若求曲线在空间中任意平面的投影, 可以通过矢量分解的思路, 求出在坐标基准面上的投影, 然后通过法向量合成.

