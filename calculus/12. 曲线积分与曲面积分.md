
# 12.1 对弧长的曲线积分 (第一类曲线积分)

对弧长的曲线积分也称为<font color=red><b>第一类曲线积分</b></font>.

对于 $[a,b]$ 上的定积分 $\displaystyle\int_a^bf(x)\mathrm{d}x$ , 对于不同的函数定义 $f(x)$ , 定积分有不同的含义, 由于是对直线段进行积分, 因此该定积分可以称为<font color=red><b>直线积分</b></font>.

-  $f(x)$ 表示高度时, $\displaystyle\int_a^bf(x)\mathrm{d}x$ 的意义为以线段 $L$ 为底的曲边梯形的面积.
-  $f(x)$ 表示线密度时, $\displaystyle\int_a^bf(x)\mathrm{d}x$ 的意义为线段 $L$ 的质量.
-  $f(x)$ 表示压强时, $\displaystyle\int_a^bf(x)\mathrm{d}x$ 的意义为线段 $L$ 所承受的压力.


## `定义114` $对弧长的曲线积分\ (第一类曲线积分)$

> 设 $L$ 为 $xOy$ 面内的一条光滑曲线弧, 函数 $f(x,y)$ 在 $L$ 上有界. 
> 在 $L$ 上任意插入一点列 $M_1,M_2,\cdots,M_{n-1}$ , 将 $L$ 分成 $n$ 个小段. 设第 $i$ 个小段的长度为 $\Delta s_i$ . 
> 又 $(\xi_i,\eta_i)$ 为第 $i$ 个小段上任取的一点, 做乘积 $f(\xi_i,\eta_i)\Delta s_i \ (i=1,2,\cdots,n)$ . 
> 求和 $\displaystyle\sum_{i=1}^nf(\xi_i,\eta_i)\Delta s_i$ , 若当个小弧段的长度的最大值 $\lambda\to0$ 时, 该和的极限总存在, 且与曲线 $L$ 的分法以及点 $(\xi_i,\eta_i)$ 的取法无关, 则称此极限为函数 $f(x,y)$ 在曲线 $L$ 上<font color=red><b>对弧长的曲线积分</b></font>或<font color=red><b>第一类曲线积分</b></font>, 记作:

$$
\int_L f(x,y)\mathrm{d}s = \lim_{\lambda\to0}\sum_{i=1}^nf(\xi_i,\eta_i)\Delta s_i
$$

> 其中, $f(x,y)$ 称为<font color=red><b>被积函数</b></font>, $L$ 称为<font color=red><b>积分弧段</b></font>.

对弧长的曲线积分是直线积分的推广, 将积分路径从直线改为平面中的曲线.


## `定理151` $对弧长的曲线积分的性质$

- 齐次性与可加性:

$$
\int_L [\alpha f(x,y)+\beta f(x,y)]\mathrm{d}s = 
\alpha\int_L f(x,y)\mathrm{d}s + \beta\int_L g(x,y)\mathrm{d}s
\quad(\alpha,\beta\in\mathbb{R})
$$

- 积分区间的拆分: 若 $L$ 可分为两端光滑的曲线弧 $L_1$ 和 $L_2$

$$
\int_L f(x,y)\mathrm{d}s = 
\int_{L_1} f(x,y)\mathrm{d}s + \int_{L_2} f(x,y)\mathrm{d}s
$$

- 对弧长曲线积分的不等式:

$$
f(x,y)\leq g(x,y) \implies
\int_L f(x,y)\mathrm{d}s \leq \int_L g(x,y)\mathrm{d}s
$$

$$
\left|\int_L f(x,y)\mathrm{d}s\right| \leq \int_L |f(x,y)|\mathrm{d}s 
$$


## `定理152` $对弧长的曲线积分的计算法$

> 设 $f(x,y)$ 在曲线弧 $L$ 上有定义且连续, $L$ 的参数方程为:

$$
\left\{
\begin{array}{l}
x(t)=\varphi(t) \\
y(t)=\psi(t)
\end{array}
\right.
,\quad \alpha\leq t \leq\beta
$$

> 若在 $[\alpha,\beta]$ 上具有一阶连续导数, 且 $\Big(\varphi'(t)\Big)^2 + \Big(\psi'(t)\Big)^2\neq0$ , 则曲线积分 $\displaystyle\int_L f(x,y)\mathrm{d}s$ 存在, 且:

$$
\displaystyle\int_L f(x,y)\mathrm{d}s = 
\int_\alpha^\beta f\Big(\varphi(t),\psi(t)\Big)\sqrt{\Big(\varphi'(t)\Big)^2 + \Big(\psi'(t)\Big)^2}\mathrm{d}t, \quad
\alpha<\beta
$$

各种形式的对弧长的曲线积分如下:

$$
\begin{array}{c|c}
\hline
函数原型 & 计算方法 \\
\hline \\
L:
\left\{
\begin{array}{l}
x=\varphi(t) \\
y=\psi(t)
\end{array}
\right. \ 
,\ \alpha\leq t \leq\beta & 
\displaystyle\int_L f(x,y)\mathrm{d}s = 
\int_\alpha^\beta f\Big(\varphi(t),\psi(t)\Big)\sqrt{\Big(\varphi'(t)\Big)^2 + \Big(\psi'(t)\Big)^2}\mathrm{d}t
\\ \\
\hline
\\
L:
\left\{
\begin{array}{l}
x=x \\
y=\psi(x)
\end{array}
\right. \ 
,\ \alpha\leq x \leq\beta & 
\displaystyle\int_L f(x,y)\mathrm{d}s = 
\int_a^b f\Big(x,\psi(x)\Big)\sqrt{1+ \Big(\psi'(x)\Big)^2}\mathrm{d}x 
\\ \\
\hline 
\\
L:
\left\{
\begin{array}{l}
x=\varphi(t) \\
y=\psi(t) \\
z=\omega(t) \\
\end{array}
\right. \ 
,\ \alpha\leq t \leq\beta & 
\displaystyle\int_L f(x,y,z)\mathrm{d}s = 
\int_\alpha^\beta f\Big(\varphi(t),\psi(t),\omega(t)\Big)\sqrt{\Big(\varphi'(t)\Big)^2 + \Big(\psi'(t)\Big)^2 + \Big(\omega'(t)\Big)^2}\mathrm{d}t
\\ \\
\hline
\end{array}
$$


# 12.2 对坐标的曲线积分 (第二类曲线积分)

对坐标的曲线积分也称为<font color=red><b>第二类曲线积分</b></font>.

下列函数描述了一个**3维**的<font color=red><b>向量场</b></font>:

$$
\boldsymbol{F}(x,y,z) = P(x,y,z)\boldsymbol{i} + P(x,y,z)\boldsymbol{j} + P(x,y,z)\boldsymbol{k}
$$

一些物理中的向量场包括: 空气流动的流场, 天体的引力场, 磁场.

## `定义114` $对坐标的曲线积分\ (第二类曲线积分)$

> 设 $L$ 为 $xOy$ 面内从 $A$ 点到 $B$ 点的一条有向光滑曲线弧, 函数 $P(x,y)$ 和 $Q(x,y)$ 在 $L$ 上有界.
> 在 $L$ 上沿 $L$ 的方向任意插入一点列 $M_1(x_1,y_1),M_2(x_2,y_2),\cdots,M_{n-1}(x_{n-1},y_{n-1})$ , 将 $L$ 分成 $n$ 个有向小弧段:

$$
\overset{\Huge{\frown}}{M_{i-1}M_i},\ (i=1,2,\cdots,n;M_0 = A,M_n = B)
$$

> 设 $\Delta x_i = x_i - x_{i-1},\Delta y_i = y_i - y_{i-1}$ . 点 $(\xi_i,\eta_i)$ 为 $\overset{\Huge{\frown}}{M_{i-1}M_i}$ 上任取的一点, 做乘积$P(\xi_i,\eta_i)\Delta x_i \ (i=1,2,\cdots,n)$ . 求和 $\displaystyle\sum_{i=1}^n P(\xi_i,\eta_i)\Delta x_i$ .
> 若当个小弧段长度的最大值 $\lambda\to0$ 时, 和的极限总存在, 且与曲线弧 $L$ 的分法以及点 $(\xi_i,\eta_i)$ 的取法无关, 则称此极限为函数 $P(x,y)$ 在<font color=red><b>有向曲线弧</b></font> $\color{red}L$ <font color=red><b>上对坐标</b></font> $\color{red}x$ <font color=red><b>的曲线积分</b></font>, 记作 $\displaystyle\int_L P(x,y)\mathrm{d}x$ .

> 类似地, 若 $\displaystyle\lim_{\lambda\to0}\sum_{i=1}^n Q(\xi_i,\eta_i)\Delta y_i$ 总存在, 且与曲线弧 $L$ 的分法以及点 $(\xi_i,\eta_i)$ 的取法无关, 则称此极限为函数 $Q(x,y)$ 在<font color=red><b>有向曲线弧</b></font> $\color{red}L$ <font color=red><b>上对坐标</b></font> $\color{red}y$ <font color=red><b>的曲线积分</b></font>, 记作 $\displaystyle\int_L Q(x,y)\mathrm{d}y$ .

> 即:

$$
\displaystyle\int_L P(x,y)\mathrm{d}x = 
\displaystyle\lim_{\lambda\to0}\sum_{i=1}^n P(\xi_i,\eta_i)\Delta x_i,
\quad
\displaystyle\int_L Q(x,y)\mathrm{d}y = 
\displaystyle\lim_{\lambda\to0}\sum_{i=1}^n Q(\xi_i,\eta_i)\Delta y_i
$$

> 其中 $P(x,y)$ 和 $Q(x,y)$ 称为<font color=red><b>被积函数</b></font>, $L$ 称为<font color=red><b>积分弧段</b></font>, 以上积分也称为<font color=red><b>第二类曲线积分</b></font>.

第二类曲线积分的物理含义可以从功的角度理解, 即粒子在一个力的向量场中运动, 该场对粒子分别在 $x$ 方向上和 $y$ 方向上的做工就是第二类曲线积分, 由于是对坐标方向上的积分, 因此第二类曲线积分也称为<font color=red><b>对坐标的曲线积分</b></font>.

> 结合向量场, 对于两个坐标方向的积分的总和 (相当于总功) 也可写作:

$$
\int_L\boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r} = 
\int_L P(x,y)\mathrm{d}x + \int_L Q(x,y)\mathrm{d}y = 
\int_L \Big( P(x,y)\mathrm{d}x + Q(x,y)\mathrm{d}x \Big)
$$


## `定理153` $对坐标的曲线积分的性质$

- 齐次性与可加性:

$$
\int_L [\alpha \boldsymbol{F}_1(x,y)+\beta \boldsymbol{F}_2(x,y)]\cdot\mathrm{d}\boldsymbol{r} = 
\alpha\int_L \boldsymbol{F}_1(x,y)\cdot\mathrm{d}\boldsymbol{r} + \beta\int_L \boldsymbol{F}_2(x,y)\cdot\mathrm{d}\boldsymbol{r}
\quad(\alpha,\beta\in\mathbb{R})
$$

- 积分区间的拆分. 若 $L$ 可分为两端光滑的曲线弧 $L_1$ 和 $L_2$ , 则:

$$
\int_L \boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r} = 
\int_{L_1} \boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r} + 
\int_{L_2} \boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r}
$$

- 反向计分. 设 $L$ 是有向光滑圆弧, $L^-$ 是 $L$ 的反向曲线弧, 则:

$$
\int_L \boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r} = 
-\int_{L^-} \boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r}
$$


## `定理154` $对坐标的曲线积分的计算法$

> 设 $P(x,y)$ 和 $Q(x,y)$ 在有向曲线弧 $L$ 上有定义且连续, $L$ 的参数方程为: 

$$
\left\{
\begin{array}{l}
x(t)=\varphi(t) \\
y(t)=\psi(t)
\end{array}
\right.
$$

> 当参数 $t$ 单调地从 $\alpha$ 变化到 $\beta$ 时, $M(x,y)$ 点从 $L$ 的起点 $A$ 沿 $L$ 运动到终点 $B$ .
> 若 $\varphi(t)$ 和 $\psi(t)$ 在 $[\alpha,\beta]$ 上具有一阶连续导数, 且 $\Big(\varphi'(t)\Big)^2 + \Big(\psi'(t)\Big)^2\neq0$ , 则曲线积分 $\displaystyle\int_L P(x,y)\mathrm{d}x+Q(x,y)\mathrm{d}y$ 存在, 且:

$$
\int_L P(x,y)\mathrm{d}x+Q(x,y)\mathrm{d}y = 
\int_\alpha^\beta
\Big[
P\Big(\varphi(t),\psi(t)\Big)\varphi'(t) + 
Q\Big(\varphi(t),\psi(t)\Big)\psi'(t)
\Big]\mathrm{d}t
$$


第一类曲线积分和第二类曲线积分有如下区别:

- 第一类曲线积分中的 $L$ 是曲线弧, 作用在曲线弧 $L$ 上的是标量函数 $f(x,y)$ .
- 第二类曲线积分中的 $L$ 是**有向**曲线弧, 作用在**有向**曲线弧 $L$ 上的是向量函数 $\boldsymbol{F}(x,y)$ .

第一类曲线积分和第二类曲线积分可以互相转化:

$$
\int_L \boldsymbol{F}(x,y)\cdot\mathrm{d}\boldsymbol{r} = 
\int_L \boldsymbol{F}(x,y)\cdot\tau\mathrm{d}s = 
$$


# 12.3 曲线积分的基本定理

## `定理155` $曲线积分的基本定理$

> 设 $\boldsymbol{F} = P(x,y)\boldsymbol{i}+Q(x,y)\boldsymbol{j}$ 是平面区域 $G$ 内的向量函数, 若 $P(x,y)$ 和 $Q(x,y)$ 都在 $G$ 内连续, 且存在一个标量函数 $f(x,y)$ 使得 $\boldsymbol{F} = \nabla f$ , 则曲线积分 $\displaystyle\int_L\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r}$ 在 $G$ 内<font color=red><b>与路径无关</b></font>, 且:

$$
\int_L\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r} = f(B) - f(A)
$$

> 其中 $L$ 是位于 $G$ 内的起点为 $A$ , 终点为 $B$ 的任一分段有向光滑曲线段.

> 上述定理也可以改写为:

$$
\int_L\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r} = 
\int_L\nabla f\cdot\mathrm{d}\boldsymbol{r} =
\int_L\mathrm{d}f =
f(B) - f(A)
$$
> 其中:

$$
\mathrm{d}f = \nabla f\cdot\mathrm{d}\boldsymbol{r} = 
\begin{pmatrix}
f_x \\
f_y
\end{pmatrix}
\cdot
\begin{pmatrix}
\mathrm{d}x \\
\mathrm{d}y
\end{pmatrix} = 
f_x \mathrm{d}x + f_y \mathrm{d}y
$$

> 即全微分.

该定理也可以称为<font color=red><b>梯度定理</b></font>.

该定理还可以推广到三维空间内. 

理解该定理可以先从一维情况考虑, 牛顿-莱布尼茨公式为:

$$
\int_a^bF'(x)\mathrm{d}x = F(b)-F(a)
$$

其直观意义为, 一个量从 $a$ 到 $b$ 的总变化量, 等于它在这段区间内所有**瞬时变化率的累计和**.

标量场 $f(x,y)$ 或 $f(x,y,z)$ 是一个函数, 本身可代表"势能"或"高度".

梯度场 $\nabla f$ 是一个向量场, 指向函数值增长最快的方向, $\nabla f = \left\langle\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partial y}\right\rangle$ .

向量场 $\boldsymbol{F}$ 为标量场 $f$ 的梯度, 只有满足该条件, 向量场才是**保守向量场**或**梯度场**.

本质上, 曲线积分的基本定理描述的是从起点到终点的路径上的所有微小的函数值变化的总和.

$\nabla f = \left\langle\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partial y}\right\rangle$ 实际是标量函数 $f$ 的雅可比矩阵的转置. 对于 $f(x,y)$ , 其雅可比矩阵是一个 $1\times2$ 的矩阵 (从 $\mathbb{R}^2$ 到 $\mathbb{R}^1$ ):

$$
\boldsymbol{J}(f) = 
\begin{pmatrix}
\displaystyle\frac{\partial f}{\partial x} & \displaystyle\frac{\partial f}{\partial y}
\end{pmatrix},
\quad
\nabla f = 
\begin{pmatrix}
\displaystyle\frac{\partial f}{\partial x} \\
\displaystyle\frac{\partial f}{\partial y}
\end{pmatrix}
$$

若向量场完全服从势能函数, 没有扭曲, 没有偏转. 则该向量场为保守场.

不与自身相交的曲线称为<font color=red><b>简单曲线</b></font>.

头尾相接的曲线称为<font color=red><b>闭曲线</b></font>.

对于某平面区域, 若其中的一**简单闭曲线**所围成的部分均属于该区域, 则称该区域为<font color=red><b>简单连通域</b></font>或<font color=red><b>单连通域</b></font>. 否则称为<font color=red><b>复杂连通域</b></font>或<font color=red><b>复连通域</b></font>.

直观看, 单连通域不包含"洞", 复连通域包含"洞".


## `定义116` $势函数与保守场$

> 若 $\boldsymbol{F} = \nabla f$ , 则标量函数 $f$ 称为向量场 $\boldsymbol{F}$ 的<font color=red><b>势函数</b></font>, 向量场 $\boldsymbol{F}$ 称为<font color=red><b>保守场</b></font>.

例如, 重力场和静电场都是保守场, 而摩擦力与阻力场则不是保守场.


## `定理156` $保守场的充要条件$

> 设平面区域 $G$ 为一个单连通域, 向量场 $\boldsymbol{F} = P(x,y)\boldsymbol{i}+Q(x,y)\boldsymbol{j}$ 在 $G$ 上有定义, 若 $P(x,y)$ 和 $Q(x,y)$ 均在 $G$ 上有一阶连续偏导数, 且:

$$
\boldsymbol{F}是保守场 \iff
\frac{\partial P}{\partial y} = \frac{\partial Q}{\partial x}
$$

$\dfrac{\partial P}{\partial y} = \dfrac{\partial Q}{\partial x}$ 意味着向量场 $\boldsymbol{F}$ 对应的标量函数 $f$ 的两个二阶混合偏导数是相等的, 与求导顺序无关, $f_{xy}=f_{yx}$ , 根据克莱罗定理, 其等价于两个二阶混合偏导数是连续的.

<p align="central">
<img src = "https://matongxue.oss-cn-hangzhou.aliyuncs.com/attch/matex/5010/20240313105350801/3.png" width = "70%">
<img src="https://matongxue.oss-cn-hangzhou.aliyuncs.com/attch/matex/5010/20240313105350801/5.png" width="70%">
</p>

点积形容的是两个向量的重合程度, 叉积形容的是两个向量的垂直程度.


## `定义117` $路径无关$

> 曲线积分 $\displaystyle\int_L\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r}$ 在区域 $G$ 上是<font color=red><b>与路径无关</b></font>的, 当且仅当对于区域 $G$ 上的任意闭曲线 $C$ 有:

$$
\displaystyle\int_C\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r} = 0, \ C\in G
$$

> 特别地, 为强调 $C$ 是闭曲线, 常在积分符号上加圈, 上式记作:

$$
\displaystyle\oint_C\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r} = 0
$$

该定理描述的是:

$$
\displaystyle\int_L\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r}与路径无关
\iff
\displaystyle\oint_C\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r} = 0
$$


## `定理157` $保守场与路径无关$

> 设 $G$ 是开区域且是单连通域, $\boldsymbol{F} = P(x,y)\boldsymbol{i}+Q(x,y)\boldsymbol{j}$ 是 $G$ 内的一个向量函数, 若 $P(x,y)$ 和 $Q(x,y)$ 都在 $G$ 内连续, 则:

$$
\boldsymbol{F}是保守场 \iff
\displaystyle\int_L\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r}与路径无关
$$


# 12.4 格林公式

微积分第二基本定理表明直线积分的值只和两端点有关.
曲线积分的基本定理表明曲线积分的值只和两端点有关.
对于二重积分也有类似的特征, 即格林公式.

二重积分 $\displaystyle\underset{D}{\iint}f(x,y)\mathrm{d}\sigma$ 可以视作在平面区域 $D$ 上的积分, 称为<font color=red><b>平面积分</b></font>.


## `定理158` $平面积分的基本定理(格林公式)$

> 设闭区域 $D$ 的边界由分段光滑的曲线构成, 若函数 $P(x,y)$ 和 $Q(x,y)$ 在 $D$ 上具有一阶连续偏导数, 则:

$$
\underset{D}{\iint}\left(
\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y}
\right) \mathrm{d}x\mathrm{d}y = 
\oint_{\partial D} P\mathrm{d}x+Q\mathrm{d}y
$$

> 其中 $\partial D$ 为 $D$ 去正向的边界曲线. 

> 正向定义为, 沿该方向移动, 移动方向的左侧为区域内部.

格林公式是将曲线积分转换成了二重积分进行计算.


##  $旋度$

格林公式直观理解的含义为: 对区域上所有点的旋度积分, 等于整个区域的环流量.

理解 $\displaystyle\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y}$ :

假设某向量场 $\boldsymbol{F} = P(x,y)\boldsymbol{i}+Q(x,y)\boldsymbol{j}$ 内有一点 $A_i$ . 该点拓展出两个正交的, 在 $x$ 方向上和 $y$ 方向上的刚性杆. 分别独立考虑两个刚性杆的旋转情况.

对于 $x$ 方向上的杆:
对于刚性杆上的每一个点, 都会获得竖直水流冲击下的竖直速度 $Q_0,Q_1,\cdots,Q_n$ . 
若这 $n$ 个竖直速度是相同的, 则杆整体趋向于竖直方向上进行运动. 
但若这 $n$ 个竖直速度不相同, 则杆会有旋转的趋势, 且速度变化越大, 旋转趋势越强.
上述的竖直速度变化的本质就是 $Q_0$ 到 $Q_n$ 的变化率, 该变化率实际是 $Q(x,y)$ 在 $A_i$ 点对于 $x$ 的偏导数:

$$
\lim_{\Delta x_i\to0}\frac{Q_n-Q_0}{\Delta x_i} = 
\left.
\frac{\partial Q(x,y)}{\partial x}
\right|_{A_i}
$$

类似地, 对于 $y$ 方向上的杆有:

$$
\lim_{\Delta y_i\to0}\frac{P_n-P_0}{-\Delta y_i} = 
\left.
-\frac{\partial P(x,y)}{\partial y}
\right|_{A_i}
$$

对于 $y$ 方向, 偏导数需要取负号才能代表和 $x$ 相同的旋向. 
当 $x$ 增大 $Q$ 也增大时, 刚性杆逆时针旋转; 
当 $y$ 增大 $Q$ 也增大时, 刚性杆顺时针旋转.
因此 $P$ 对 $y$ 的偏导数需要取符号才能和 $Q$ 对 $x$ 地偏导数表达的旋向一致.

将上述的两个旋转判定条件相加, 即 $A_i$ 点同时收到竖直水流和水平水流的旋转作用, 记为:

$$
\left.
\frac{\partial Q(x,y)}{\partial x}-\frac{\partial P(x,y)}{\partial y}
\right|_{A_i}
$$

上述算式定义了 $A_i$ 点处的<font color=red><b>旋度</b></font>.

而对于 $\displaystyle\oint_{\partial D} P\mathrm{d}x+Q\mathrm{d}y$ , 其含义为在向量场中闭区域 $D$ 的旋转, 也称为<font color=red><b>环流量</b></font>.

$$
\underset{D}{\iint}\left(
\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y}
\right) \mathrm{d}x\mathrm{d}y = 
\oint_{\partial D} P\mathrm{d}x+Q\mathrm{d}y
$$

格林公式也可以理解为, 对闭区域 $D$ 内的每一个点的旋度积分, 即等于整个闭区域的旋转趋势, 即环流量.


# 12.5 对面积的曲面积分

类似于曲线积分, 曲面积分也分为两类.

## `定义118` $对面积的曲面积分\ (第一类曲面积分)$

> 设曲面 $\Sigma$ 是光滑的, 函数 $f(x,y,z)$ 在 $\Sigma$ 上有界. 
> 将 $\Sigma$ 任意分成 $n$ 个曲面, 其中第 $i$ 个小曲面的面积为 $\Delta S_i$ .
> 设 $(\xi_i,\eta_i,\zeta_i)$ 为 $\Delta S_i$ 上任取的一点, 做乘积 $(\xi_i,\eta_i,\zeta_i)\Delta S_i$ , 并求和 $\displaystyle\sum_{i=1}^n (\xi_i,\eta_i,\zeta_i)\Delta S_i$ .
> 若当各个小曲面的直径的最大值 $\lambda\to0$ 时, 该和的极限总存在, 且与曲面 $\Sigma$ 的分法以及点 $(\xi_i,\eta_i,\zeta_i)$ 的取法无关, 则称该极限为函数 $f(x,y,z)$ 在曲面 $\Sigma$ 上的<font color=red><b>对面积的曲面积分</b></font>或<font color=red><b>第一类曲面积分</b></font>, 记作:

$$
\underset{\Sigma}{\iint} f(x,y,z)\mathrm{d}S = \lim_{\lambda\to0}\sum_{i=1}^nf(\xi_i,\eta_i,\zeta_i)\Delta S_i
$$

> 其中, $f(x,y,z)$ 称为<font color=red><b>被积函数</b></font>, $\Sigma$ 称为<font color=red><b>积分曲面</b></font>.


## `定理159` $第一类曲面积分的曲面拆分$

> 设积分曲面 $\Sigma$ 可分为两个光滑曲面 $\Sigma_1$ 和 $\Sigma_2$ , 则:

$$
\underset{\Sigma}{\iint} f(x,y,z)\mathrm{d}S = 
\underset{\Sigma_1}{\iint} f(x,y,z)\mathrm{d}S +
\underset{\Sigma_2}{\iint} f(x,y,z)\mathrm{d}S 
$$


##  $第一类曲面积分的计算法$

若曲面 $\Sigma$ 是通过 $z(x,y)$ 定义的, 则曲面积分为:

$$
\underset{\Sigma}{\iint} f(x,y,z)\mathrm{d}S = 
\underset{D_{xy}}{\iint} f\Big(x,y,z(x,y)\Big)
\sqrt{1+z_x(x,y)^2+z_y(x,y)^2}d\sigma
$$


# 12.6 对坐标的曲面积分

利用曲面在点 $(x,y,z)$ 处的单位法向量 $\boldsymbol{n}$ 和 $-\boldsymbol{n}$ 可以选定曲面的正方向, 称为<font color=red><b>定向</b></font>, 选定的单位法向量称为<font color=red><b>单位方向向量</b></font>.

若曲面的各个点都可定向, 则称为<font color=red><b>有向曲面</b></font>.

像莫比乌斯环一样的曲面不能确定曲面的正面与反面, 称为<font color=red><b>不可定向</b></font>曲面.


可以通过**光照强度**来理解对坐标的曲面积分.

将一个物体看做一个**有向曲面**, 其表面处处分布着单位方向向量. 该物体处于一个**光场**中, 对于有向曲面上的任意一个点, 可以计算该点处的单位方向向量和该点处光场向量的内积.
可以注意到, 背光处的点夹角 $\theta_1\leq\dfrac{\pi}{2}$ , 即夹角余弦 $0\leq\cos\theta_1\leq1$ . 光照处的点夹角 $\theta_1\geq\dfrac{\pi}{2}$ , 即夹角余弦 $-1\leq\cos\theta_1\leq0$ . 
据此, 可以计算出每个点的光照强度, 也可以根据夹角余弦判断点的背光性.
对于有向曲面上的每个微曲面, 可以看做光照强度是相同的, 则对于曲面 $\Delta S_i$ 的光照强度为:

$$
\boldsymbol{F}_i\cdot\boldsymbol{n}_i\Delta S_i
$$

计算有向曲面上每个微曲面的光照强度并积分, 即得到整个曲面的光照强度:

$$
\underset{\Sigma}{\iint}\boldsymbol{F}\cdot\boldsymbol{n}\mathrm{d}S
$$


## `定义119` $有向曲面的积分\ (第二类曲面积分)$

> 设曲面 $\Sigma$ 是光滑的有向曲面, 向量函数 $\boldsymbol{F}(x,y,z)$ 的各个分量函数在 $\Sigma$ 上有界. 
> 将 $\Sigma$ 任意分成 $n$ 个小区面, 其中第 $i$ 个小区面记作 $\Delta S_i$ , 同时 $\Delta S_i$ 也表示该小区面的面积.
> 设 $(\xi_i,\eta_i,\zeta_i)$ 是 $\Delta S_i$ 上任取的一点, $\boldsymbol{n}_i$ 是曲面 $\Sigma$ 在该点处的单位法向量, 做乘积 $\boldsymbol{F}(\xi_i,\eta_i,\zeta_i)\cdot\boldsymbol{n}_i\Delta S_i$ , 并求和:

$$
\sum_{i=1}^n\boldsymbol{F}(\xi_i,\eta_i,\zeta_i)\cdot\boldsymbol{n}_i\Delta S_i
$$

> 若当各个小区面的直径的最大值 $\lambda\to0$ 时, 和的极限总存在, 且与曲面 $\Sigma$ 的分法以及点 $(\xi_i,\eta_i,\zeta_i)$ 的取法无关, 则称极限为向量函数 $\boldsymbol{F}(x,y,z)$ <font color=red><b>在有向曲面</b></font> $\color{red}\Sigma$ <font color=red><b>上的积分</b></font>, 也称为<font color=red><b>第二类曲面积分</b></font>:

$$
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\boldsymbol{n}\mathrm{d}S = 
\lim_{\lambda\to0}\sum_{i=1}^n\boldsymbol{F}(\xi_i,\eta_i,\zeta_i)\cdot\boldsymbol{n}_i\Delta S_i
$$

> 令 $\mathrm{d}\boldsymbol{S} = \boldsymbol{n}\mathrm{d}S$ , 则记为:

$$
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\boldsymbol{n}\mathrm{d}S = 
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S}
$$

上述等式也表示第一类曲面积分和第二类曲面的关系:

$$
\underset{
\begin{array}{c}
第{\color{red}一}类曲面积分 \\
\boldsymbol{F}\cdot\boldsymbol{n} 在曲面\Sigma上的积分
\end{array}
}{\underbrace{
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\boldsymbol{n}\mathrm{d}S}} = 
\underset{
\begin{array}{c}
第{\color{red}二}类曲面积分 \\
\boldsymbol{F}在{\color{red}有向}曲面\Sigma上的积分
\end{array}
}{\underbrace{
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S}}}
$$


## `定理160` $第二类曲面积分的性质$

- 齐次性与可加性:

$$
\underset{\Sigma}{\iint}[\alpha\boldsymbol{F}_1(x,y,z)+\beta\boldsymbol{F}_2(x,y,z)]\cdot\mathrm{d}\boldsymbol{S} = 
\alpha\underset{\Sigma}{\iint}\boldsymbol{F}_1(x,y,z)\cdot\mathrm{d}\boldsymbol{S} + 
\beta\underset{\Sigma}{\iint}\boldsymbol{F}_2(x,y,z)\cdot\mathrm{d}\boldsymbol{S}
,\quad \alpha,\beta\in\mathbb{R}
$$

- 积分区间的拆分. 若有向曲面 $\Sigma$ 可拆分成两个有向曲面 $\Sigma_1$ 和 $\Sigma_2$ , 则:

$$
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S} = 
\underset{\Sigma_1}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S} +
\underset{\Sigma_2}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S}
$$

- 反向计分. 若有向曲面 $\Sigma^-$ 是有向曲面 $\Sigma$ 的反向曲面, 则:

$$
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S} = 
-\underset{\Sigma^-}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S}
$$


## `定义120` 另一种第二类曲面积分的定义

> 设曲面 $\Sigma$ 是光滑的有向曲面, 函数 $R(x,y,z)$ 在 $\Sigma$ 上有界. 
> 将 $\Sigma$ 任意分成 $n$ 个小区面, 其中第 $i$ 个小区面记作 $\Delta S_i$ , 同时 $\Delta S_i$ 也表示该小区面的面积.
> $\Delta S_i$ 在 $xOy$ 平面上的投影为 $(\Delta S_i)_{xy}$ , $(\xi_i,\eta_i,\zeta_i)$ 是 $\Delta S_i$ 上任取的一点, 做乘积 $R(\xi_i,\eta_i,\zeta_i)(\Delta S_i)_{xy}$ , 并求和:

$$
\sum_{i=1}^n R(\xi_i,\eta_i,\zeta_i)(\Delta S_i)_{xy}
$$

> 若当哥哥小区面的直径的最大值 $\lambda\to0$ 时, 和的极限总存在, 且与曲面 $\Sigma$ 的分法以及点 $(\xi_i,\eta_i,\zeta_i)$ 的取法无关, 则称此极限为函数 $R(x,y,z)$ 在有向曲面 $\Sigma$ 上<font color=red><b>对坐标</b></font> $\color{red}x,y$ <font color=red><b>的曲面积分</b></font>:

$$
\underset{\Sigma}{\iint}R(x,y,z)\mathrm{d}x\mathrm{d}y = 
\lim_{\lambda\to0}\sum_{i=1}^n R(\xi_i,\eta_i,\zeta_i)(\Delta S_i)_{xy}
$$

> 类似地, 可以定义函数 $P(x,y,z)$ 在有向曲面 $\Sigma$ 上<font color=red><b>对坐标</b></font> $\color{red}y,z$ <font color=red><b>的曲面积分</b></font>, 以及函数 $Q(x,y,z)$ 在有向曲面 $\Sigma$ 上<font color=red><b>对坐标</b></font> $\color{red}z,x$ <font color=red><b>的曲面积分</b></font>:

$$
\begin{aligned}
\underset{\Sigma}{\iint}P(x,y,z)\mathrm{d}y\mathrm{d}z = 
\lim_{\lambda\to0}\sum_{i=1}^n R(\xi_i,\eta_i,\zeta_i)(\Delta S_i)_{yz} \\
\underset{\Sigma}{\iint}Q(x,y,z)\mathrm{d}z\mathrm{d}x = 
\lim_{\lambda\to0}\sum_{i=1}^n R(\xi_i,\eta_i,\zeta_i)(\Delta S_i)_{zx}
\end{aligned}
$$

> 其中 $P(x,y,z)$ ,  $Q(x,y,z)$ 和 $R(x,y,z)$ 称为<font color=red><b>被积函数</b></font>, $\Sigma$ 称为<font color=red><b>积分曲面</b></font>.

参考第二类曲线积分, 本质是拆解各个方向分量进行计算:

$$
\begin{aligned}
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S} & = 
\underset{\Sigma}{\iint}P(x,y,z)\mathrm{d}y\mathrm{d}z +
\underset{\Sigma}{\iint}Q(x,y,z)\mathrm{d}z\mathrm{d}x +
\underset{\Sigma}{\iint}R(x,y,z)\mathrm{d}x\mathrm{d}y \\
& =
\underset{\Sigma}{\iint}P(x,y,z)\mathrm{d}y\mathrm{d}z + 
Q(x,y,z)\mathrm{d}z\mathrm{d}x +
R(x,y,z)\mathrm{d}x\mathrm{d}y
\end{aligned}
$$

使用向量改写:

$$
\begin{aligned}
\underset{\Sigma}{\iint}\boldsymbol{F}(x,y,z)\cdot\mathrm{d}\boldsymbol{S} & = 
\underset{\Sigma}{\iint}
\begin{pmatrix}
P(x,y,z) \\
Q(x,y,z) \\
R(x,y,z)
\end{pmatrix} \cdot
\begin{pmatrix}
\mathrm{d}y\mathrm{d}z \\
\mathrm{d}z\mathrm{d}x \\
\mathrm{d}x\mathrm{d}y
\end{pmatrix} \\
& =
\underset{\Sigma}{\iint}P(x,y,z)\mathrm{d}y\mathrm{d}z + 
Q(x,y,z)\mathrm{d}z\mathrm{d}x +
R(x,y,z)\mathrm{d}x\mathrm{d}y
\end{aligned}
$$


# 12.7 斯托克斯公式和高斯公式

## `定理161` $斯托克斯公式$

> 设 $\partial\Sigma$ 为分段光滑的空间有向闭曲线, $\Sigma$ 是以 $\partial\Sigma$ 为边界的分片光滑的有向曲面,  $\partial\Sigma$ 的正向与 $\Sigma$ 的正向符合右手定则. 
> 若函数 $P(x,y,z)$ , $Q(x,y,z)$ 与 $R(x,y,z)$ 在曲面 $\Sigma$ (连同边界 $\partial\Sigma$ ) 上具有一阶连续偏导数, 则有:

$$
\underset{\Sigma}{\iint}
\left(
\frac{\partial R}{\partial y} - \frac{\partial Q}{\partial z}
\right) 
\mathrm{d}y\mathrm{d}z + 
\left(
\frac{\partial P}{\partial z} - \frac{\partial R}{\partial x}
\right) 
\mathrm{d}z\mathrm{d}x +
\left(
\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y}
\right) 
\mathrm{d}x\mathrm{d}y
= 
\oint_{\partial \Sigma} P\mathrm{d}x+Q\mathrm{d}y+R\mathrm{d}z
$$

> 该公式称为<font color=red><b>斯托克斯公式</b></font>.

斯托克斯公式是曲面积分的基本定理, 可以将曲面积分通过其正向边界 $\partial\Sigma$ 上的曲线积分计算.

斯托克斯公式可以写作:

$$
\underset{\Sigma}{\iint}\nabla\times\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{S} = 
\oint_{\partial\Sigma}\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{r}
$$

其中:

$$
\begin{array}{c}
\nabla = 
\dfrac{\partial}{\partial x}\boldsymbol{i} +
\dfrac{\partial}{\partial y}\boldsymbol{j} +
\dfrac{\partial}{\partial z}\boldsymbol{k} \\ \\
\boldsymbol{F} = 
P(x,y,z)\boldsymbol{i} + 
Q(x,y,z)\boldsymbol{j} +
R(x,y,z)\boldsymbol{k} \\ \\
\mathrm{d}\boldsymbol{S} = 
\begin{pmatrix}
\mathrm{d}y\mathrm{d}z \\
\mathrm{d}z\mathrm{d}z \\
\mathrm{d}x\mathrm{d}y
\end{pmatrix}
\end{array}
$$


格林公式是斯托克斯公式的特例.

斯托克斯公式对应的概念是<font color=red><b>旋度</b></font>, 描述场的旋转趋势.


## `定理162` $高斯公式$

> 设空间闭区域 $\Omega$ 是有分片光滑的闭曲面 $\partial\Omega$ 围成的. $\partial\Omega$ 的正向为 $\Omega$ 的外侧. 
> 若函数 $P(x,y,z)$ , $Q(x,y,z)$ 和 $R(x,y,z)$ 在曲面 $\Omega$ (连同边界 $\partial\Omega$ ) 上具有一阶连续偏导数, 则有:

$$
\underset{\Omega}{\iiint}
\left(
\frac{\partial P}{\partial x} + \frac{\partial Q}{\partial y} + \frac{\partial R}{\partial z}
\right) \mathrm{d}v = 
\underset{\partial\Omega}{∯} 
P\mathrm{d}y\mathrm{d}z + Q\mathrm{d}z\mathrm{d}x + R\mathrm{d}x\mathrm{d}y
$$

> 上述公式称为<font color=red><b>高斯公式</b></font>.

高斯公式对应的概念是<font color=red><b>散度</b></font>, 描述场的发散趋势.

高斯公式是三重积分的基本定理.

高斯公式可以写作:

$$
\require{wasysym}
\underset{\Omega}{\iiint}
\nabla\cdot\boldsymbol{F}\mathrm{d}v = 
\underset{\partial\Omega}{∯} 
\boldsymbol{F}\cdot\mathrm{d}\boldsymbol{S}
$$

其中:

$$
\begin{array}{c}
\nabla = 
\dfrac{\partial}{\partial x}\boldsymbol{i} +
\dfrac{\partial}{\partial y}\boldsymbol{j} +
\dfrac{\partial}{\partial z}\boldsymbol{k} \\ \\
\boldsymbol{F} = 
P(x,y,z)\boldsymbol{i} + 
Q(x,y,z)\boldsymbol{j} +
R(x,y,z)\boldsymbol{k} \\ \\
\mathrm{d}\boldsymbol{S} = 
\begin{pmatrix}
\mathrm{d}y\mathrm{d}z \\
\mathrm{d}z\mathrm{d}z \\
\mathrm{d}x\mathrm{d}y
\end{pmatrix}
\end{array}
$$

